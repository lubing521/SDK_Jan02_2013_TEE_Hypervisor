<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libc_sos.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aeebb853ebd8c514e6186653c592c82.html">otzone</a></li><li class="navelem"><a class="el" href="dir_fb44076c8b62c63869cf8a830933e50d.html">src</a></li><li class="navelem"><a class="el" href="dir_2d945ebfca6299adda500e2943a81344.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libc_sos.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="libc__sos_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * OpenVirtualization: </span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * For additional details and support contact developer@sierraware.com.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Additional documentation can be found at www.openvirtualization.org</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2011 SierraWare</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* This file contains those libc functions that may be needed by other apps */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libc__sos_8h.html">libc_sos.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__types_8h.html">sw_types.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__buddy_8h.html">sw_buddy.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fat32_8h.html">fat32.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__mem__functions_8h.html">sw_mem_functions.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__string__functions_8h.html">sw_string_functions.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="elf__loader_8h.html">elf_loader.h</a>&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__semaphores_8h.html">sw_semaphores.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sw__debug_8h.html">sw_debug.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="otz__api_8h.html">otz_api.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a74e75242132eaabbc1c512488a135926">   35</a></span>&#160;<span class="preprocessor">#define MIN(x,y) ((y) ^ (((x) ^ (y)) &amp; -((x) &lt; (y))))</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">* @brief </span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">* @param dest</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">* @param src</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">* @param count</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">* @return </span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a4271efdaaac08f2ee1bc6a0d9e5dd74a">   46</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#a6a09c3d9a296e14b0289cc875f4061dd">memmove</a>(<span class="keywordtype">void</span> *dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *src, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="virtual__keyboard_8c.html#a16ff2d8e15ade4948398b0aeb80124a8">count</a>)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__mem__functions_8h.html#aebb2c23a77eeab04f63d7e49ffa066e1" title="memory move">sw_memmove</a>(dest,src,count));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a3ce9e5f694b047bb0c12e38aa632af84">   60</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#a7fd62a36ff3c08d458c9d523dddc832d">memset</a>(<span class="keywordtype">void</span> *dest, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> c, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="virtual__keyboard_8c.html#a16ff2d8e15ade4948398b0aeb80124a8">count</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__mem__functions_8h.html#a14af1b39b1154a36624740bad34b813f" title="memory set">sw_memset</a>(dest,c,count));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a126c7b6a4ab6e36e34246ad528938218">   74</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#a6b3ecd2ddb1fd4d219b4839d0561d11b">memcpy</a>(<span class="keywordtype">void</span> *dst, <span class="keyword">const</span> <span class="keywordtype">void</span> *src, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="virtual__keyboard_8c.html#a16ff2d8e15ade4948398b0aeb80124a8">count</a>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__mem__functions_8h.html#a51ad02aba462d7be9a03231afa56de27" title="This version of memcpy assumes disjoint ptrs src, dst.">sw_memcpy</a>(dst,src,count));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a983564c2c2217ee12414a9dfa5cb2cc2">   86</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#ac0a811fd8b7a378500f100a2d9a1f1a2">malloc</a>(<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> size)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__buddy_8h.html#a66652368e6d05f18bdc4be02b0c62694">sw_malloc</a>(size));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a7fbf3abbfbb05e71100a66876a2c49c4">   99</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#a3ca9d7fd5bb5fd77c16d7df41067c2ef">realloc</a>(<span class="keywordtype">void</span>* ptr, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> size)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">void</span>* local_ptr = <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> old_size = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span>(ptr == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">return</span>(<a class="code" href="sw__buddy_8h.html#a66652368e6d05f18bdc4be02b0c62694">sw_malloc</a>(size));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span>((size == 0) &amp;&amp; (ptr != <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="sw__buddy_8h.html#a18008f7ca319ae3bbe7c8cc24bbc7d4b">sw_free</a>(ptr);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">return</span>(<a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        local_ptr = <a class="code" href="sw__buddy_8h.html#a66652368e6d05f18bdc4be02b0c62694">sw_malloc</a>(size);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        old_size = <a class="code" href="sw__buddy_8h.html#a0e6e2e3722669c93eabf97e8bfeed592" title="function to get the size of a pointer. This is needed during realloc">get_ptr_size</a>(ptr);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="sw__mem__functions_8h.html#a51ad02aba462d7be9a03231afa56de27" title="This version of memcpy assumes disjoint ptrs src, dst.">sw_memcpy</a>(local_ptr,ptr,<a class="code" href="libc__sos_8c.html#a74e75242132eaabbc1c512488a135926">MIN</a>(old_size,size));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="sw__buddy_8h.html#a18008f7ca319ae3bbe7c8cc24bbc7d4b">sw_free</a>(ptr);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span>(local_ptr);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a4fe8e57ef73f6682b352ab110193ef8c">  126</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="libc__sos_8h.html#a1a0cf17a7fd27b38d4f9b5100f43ea95">calloc</a>(<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> num_elements, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> element_size)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">void</span>* old_ptr = <a class="code" href="sw__buddy_8h.html#a66652368e6d05f18bdc4be02b0c62694">sw_malloc</a>(num_elements*element_size);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span>(old_ptr == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">return</span>(<a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="sw__mem__functions_8h.html#a14af1b39b1154a36624740bad34b813f" title="memory set">sw_memset</a>(old_ptr,0,num_elements*element_size);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span>(old_ptr);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#afbedc913aa4651b3c3b4b3aecd9b4711">  141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libc__sos_8h.html#afbedc913aa4651b3c3b4b3aecd9b4711">free</a>(<span class="keywordtype">void</span>* ptr)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="sw__buddy_8h.html#a18008f7ca319ae3bbe7c8cc24bbc7d4b">sw_free</a>(ptr);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a787798e1b48a7981b5840f32aa41d604">  155</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libc__sos_8h.html#a129fdf4b3852797906d6893db7c22b20">strncmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1, <span class="keyword">const</span> <span class="keywordtype">char</span> *s2, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> n)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#af9b0287d594b5d099a7b1df9be8068ca">sw_strncmp</a>((<span class="keywordtype">char</span>*)s1,(<span class="keywordtype">char</span>*)s2,(<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>)n));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a39b9275fb9d9cdbb73d4bb208b78f624">  167</a></span>&#160;<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="libc__sos_8h.html#aa6c2fc3501b9f52fdc9e0b0110aa15b6">atoi</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ptr)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#ad121a9bb2680c0df2c9d8833c3b38897">sw_strtoi</a>((<span class="keywordtype">char</span>*)ptr));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a632c62529ba1a1bbf1c3def3feeade35">  179</a></span>&#160;<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="libc__sos_8h.html#a5c865eca65f448170c12bc6f3439e553">strlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ptr)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#a67166a224e2739d54a617403135fa7f9" title="strlen - Find the length of a string">sw_strlen</a>((<span class="keywordtype">char</span>*)ptr));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a0bdde5c387a0682534e738d2c212d58a">  192</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="libc__sos_8h.html#a0bdde5c387a0682534e738d2c212d58a">strcpy</a>(<span class="keywordtype">char</span>* ptr1, <span class="keyword">const</span> <span class="keywordtype">char</span>* ptr2)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#ae64299772dc46289f9f8c9046197a818" title="strcpy - Copy a NULL terminated string">sw_strcpy</a>(ptr1,(<span class="keywordtype">char</span>*)ptr2));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#af7bbca2249e32c2b575abd824b7ba97d">  205</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libc__sos_8h.html#af7bbca2249e32c2b575abd824b7ba97d">strcmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* ptr1, <span class="keyword">const</span> <span class="keywordtype">char</span>* ptr2)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#a96ba1e915e5a9a99dbca668839856d8a" title="strcmp - compare strings">sw_strcmp</a>(ptr1,ptr2));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a8cd34968f74360ae3dfe21cb8f312588">  218</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="libc__sos_8h.html#a8cd34968f74360ae3dfe21cb8f312588">strcat</a>(<span class="keywordtype">char</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr2)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__string__functions_8h.html#a2a0fd55f71a216dcd88f8101a73ba130">sw_strcat</a>(ptr1,ptr2));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a3ad0d9e557401860111e2d80dce013dc">  231</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#ae03c462b419f0c259d25918a194afed8">pthread_mutex_init</a>(<a class="code" href="structpthread__mutex__t.html">pthread_mutex_t</a> *mutex, </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                <span class="keyword">const</span> <a class="code" href="libc__sos_8h.html#a86eceb741d77e61586906ccc7dc64884">pthread_mutexattr_t</a> *attribute)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a04367a7c0265aaf39c91f5490d227118" title="dymanic initialization of the mutex. The attribute parameter is kept for consistency and is not used...">sw_mutex_init</a>((<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>*)mutex,(<a class="code" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a>*)attribute));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a59d15d06586fe9f43a76fbe33b454be7">  244</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a3cf620ff3a40af11d79cf28901dc55e2">pthread_mutex_destroy</a>(<a class="code" href="structpthread__mutex__t.html">pthread_mutex_t</a> *mutex)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a479d153ccca1ece612debff0558eba9e" title="this function destroys the mutex object. Attempting to destroy a mutex that has already been destroye...">sw_mutex_destroy</a>((<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>*)mutex));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#aaf188de37a54e1ce7c13ab90b9978cd0">  256</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a12809c44718c21544ceb280dc1a53573">pthread_mutex_lock</a>(<a class="code" href="structpthread__mutex__t.html">pthread_mutex_t</a> *mutex)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ac3c805367bdb75f13ac44f080f72e66e" title="this function locks the mutex object referenced. If the mutex is already locked, it blocks till it be...">sw_mutex_lock</a>((<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>*)mutex));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#ab937d39b58774bb7fc6f30da879d4706">  268</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a96184290ffb60e04c53a52869cf960a2">pthread_mutex_unlock</a>(<a class="code" href="structpthread__mutex__t.html">pthread_mutex_t</a> *mutex)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84" title="this function unlocks the mutex object referenced. Attempts to unlock a mutex that is already locked ...">sw_mutex_unlock</a>((<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>*)mutex));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a11944f96dd145de09ce9257740030a64">  280</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a27da386211db1a7e9a3b2a0db4d22144">pthread_mutex_trylock</a>(<a class="code" href="structpthread__mutex__t.html">pthread_mutex_t</a> *mutex)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#af9f84b60f4d379ab88cc1091a63cf2ae" title="Try to lock the mutex. This function is same as the lock function, except that it returns if the mute...">sw_mutex_trylock</a>((<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>*)mutex));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a3312deb9f1ffef2e9e6c08306571d8e1">  294</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a1e65db0630fcefe10257b2c5ae658a95">sem_init</a>(<a class="code" href="structsem__t.html">sem_t</a> *sem, <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> shared, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> value)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a39487bfce93fff0c3557bb104ef9f7ef" title="This function initializes the semaphore, and sets is counters to the value passed to it...">sw_sem_init</a>((<a class="code" href="structsw__sem__t.html">sw_sem_t</a>*)sem,shared,value));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a243745997401ff4a860b2f23e88c59e0">  306</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#aad70020dca2241a2b78e272ca033271b">sem_wait</a>(<a class="code" href="structsem__t.html">sem_t</a> *sem)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a8dc191367c06f2cff2957f3a69102514" title="This function locks the semaphore referenced by the sem value. An atomic decrement is performed...">sw_sem_wait</a>((<a class="code" href="structsw__sem__t.html">sw_sem_t</a>*)sem));</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a0c053e1678e2d831b1fc55ac70bd911a">  318</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a015dce85cab8477c679cc47968958247">sem_post</a>(<a class="code" href="structsem__t.html">sem_t</a> *sem)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aa074bb6e5b06c3ff897483709ec2b787" title="This function unlocks the semaphore referenced by sem. The value is incremented atomically. If there are any threads waiting on this semaphore, only one of them would be released from sem_wait.">sw_sem_post</a>((<a class="code" href="structsw__sem__t.html">sw_sem_t</a>*)sem));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a7f4d1900ea03d5b1a11b67f0cca948bb">  330</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a6bc9a7dd941a9b5e319715b767af5682">sem_destroy</a>(<a class="code" href="structsem__t.html">sem_t</a> *sem)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a667bf1dc62225b5affc82815da70adc6" title="Delete the semaphore pointed to by sem variable The semaphore cannot be used after deletion...">sw_sem_destroy</a>((<a class="code" href="structsw__sem__t.html">sw_sem_t</a>*)sem));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#ad7767f5ac3837189cefaf7c3321e1898">  343</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#a1ba7fdec544759f3de62bd70fa00d28f">sem_getvalue</a>(<a class="code" href="structsem__t.html">sem_t</a> *sem, <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *value)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a1c76bedb76df6742a511442f9da97f30" title="Get the current value of the semaphore. It is copied into the argument supplied by the caller...">sw_sem_getvalue</a>((<a class="code" href="structsw__sem__t.html">sw_sem_t</a>*)sem,value));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a68e9a6773b78fba0f55c0e7259c06592">  355</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#afbf3b3211bb29c40f916e05e14671e9a">sleep</a>(<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> seconds)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__timer__functions_8h.html#a6359e6b89d64e0e9b5a3c39bcea651da" title="This function sleeps for the given number of seconds.">sw_sleep</a>(seconds));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#a00106489a9b5cea1397e68585e84e0b4">  367</a></span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="libc__sos_8h.html#af89a2c7d06e8aee1f93ac6463252a87d">usleep</a>(<a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> seconds)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">#ifndef TIMER_NOT_DEFINED</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#ifdef CONFIG_KSPACE_PROTECTION</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span>(<a class="code" href="sw__syscall_8h.html#a509d9a95fdc049ebfe67987a088bd6c2" title="system call to usleep">__sw_usleep</a>(seconds));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span>(<a class="code" href="sw__timer__functions_8h.html#abe05d9f6ab2dcee9e14e3cc0ea83b6bb" title="This function sleeps for the given number of micro seconds.">sw_usleep</a>(seconds));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<a class="code" href="elf__loader_8h.html#af783dacce2382842e3e8e0af1b423013">EXPORT_SYMBOL</a>(<a class="code" href="libc__sos_8h.html#af89a2c7d06e8aee1f93ac6463252a87d">usleep</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#abba5aba3d6da4880ed4b5c70359adc2c">  391</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libc__sos_8h.html#abba5aba3d6da4880ed4b5c70359adc2c" title="truncate - function cause the regular file named by path to be truncated to a size of precisely lengt...">truncate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* tr_path, <span class="keywordtype">long</span> tr_lth)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#ifdef CONFIG_FILESYSTEM_SUPPORT</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor"></span>    <span class="keywordtype">int</span> tr_v;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    tr_v=<a class="code" href="fat32_8c.html#a299ed2bac73a8ddf9ffdc6ba738f2891" title="file_truncate - function cause the regular file named by path to be truncated to a size of precisely ...">file_truncate</a>(tr_path,(<span class="keywordtype">int</span>)tr_lth);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span>(tr_v==-1) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;error in truncate\n&quot;</span>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;truncate function is working successfully\n&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="code" href="libc__sos_8c.html#ab2a27093ea1703fea30335b3fb220fa8">  418</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libc__sos_8h.html#ab2a27093ea1703fea30335b3fb220fa8" title="rename - Changes the name of the file or directory specified by oldname to newname">rename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *old_name,<span class="keyword">const</span> <span class="keywordtype">char</span> *new_name)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#ifdef CONFIG_FILESYSTEM_SUPPORT</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor"></span>    <span class="keywordtype">int</span> re_ret;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    re_ret=<a class="code" href="fat32_8c.html#ac6c96b5d9e90c32a70a5811d7b072287" title="Function to rename a file/directory.">file_rename</a>(old_name,new_name);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span>(re_ret==-1)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;error in rename\n&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;rename function is working successfully\n&quot;</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 3 2013 00:33:52 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
