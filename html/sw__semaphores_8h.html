<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>sw_semaphores.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aeebb853ebd8c514e6186653c592c82.html">otzone</a></li><li class="navelem"><a class="el" href="dir_fb44076c8b62c63869cf8a830933e50d.html">src</a></li><li class="navelem"><a class="el" href="dir_2d945ebfca6299adda500e2943a81344.html">lib</a></li><li class="navelem"><a class="el" href="dir_f7e25160e3c6d422df754957b4d9084d.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sw_semaphores.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="sw__types_8h_source.html">sw_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cpu_8h_source.html">cpu.h</a>&gt;</code><br/>
</div>
<p><a href="sw__semaphores_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsw__sem__t.html">sw_sem_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspinlock.html">spinlock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a49b7b563fc38af00656e0f2f89d2ce56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a49b7b563fc38af00656e0f2f89d2ce56">OTZ_LOCKED</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a49b7b563fc38af00656e0f2f89d2ce56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf435ec0b9f3b6e7ae76d9079bfe6084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:abf435ec0b9f3b6e7ae76d9079bfe6084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93f0eb578d23995850d61f7d61c55c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa93f0eb578d23995850d61f7d61c55c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad472a601abac5aab18d6afddeab7de5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aad472a601abac5aab18d6afddeab7de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad644b8be68ed8327689bae20c2142c80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad644b8be68ed8327689bae20c2142c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd16a0b061bbb0bcbf50ad714050142"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a3fd16a0b061bbb0bcbf50ad714050142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03c34c007b8ddc089778f767c76b4c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#af03c34c007b8ddc089778f767c76b4c4">OTZ_AGAIN</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:af03c34c007b8ddc089778f767c76b4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2192a82f8890c9fc1c37866a6973bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a3e2192a82f8890c9fc1c37866a6973bb">INIT_SPIN_LOCK</a>(s)&#160;&#160;&#160;((s)-&gt;lock = 0)</td></tr>
<tr class="separator:a3e2192a82f8890c9fc1c37866a6973bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a35199e078df55bf4b3d055d6814139"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a8a35199e078df55bf4b3d055d6814139">OTZ_MUTEX_INIT</a>&#160;&#160;&#160;{<a class="el" href="sw__types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="el" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>}</td></tr>
<tr class="separator:a8a35199e078df55bf4b3d055d6814139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2244ed712da6ca027f76cb840045e5e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a>&#160;&#160;&#160;void</td></tr>
<tr class="separator:a2244ed712da6ca027f76cb840045e5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5028dc54dc18cb7c6e5ac85a5542403"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#ab5028dc54dc18cb7c6e5ac85a5542403">sw_spinlock_s</a> (void *<a class="el" href="fat32_8h.html#a40767ad71451f60885c01f28dd2a4b47">data</a>)</td></tr>
<tr class="separator:ab5028dc54dc18cb7c6e5ac85a5542403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aac81e6777501983ca3af1d7230db1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a6aac81e6777501983ca3af1d7230db1b">sw_spinunlock_s</a> (void *<a class="el" href="fat32_8h.html#a40767ad71451f60885c01f28dd2a4b47">data</a>)</td></tr>
<tr class="separator:a6aac81e6777501983ca3af1d7230db1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6f251f28afebcb1f64419df7c92d40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a> (volatile <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *<a class="el" href="fat32_8h.html#a40767ad71451f60885c01f28dd2a4b47">data</a>)</td></tr>
<tr class="separator:acc6f251f28afebcb1f64419df7c92d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc30f6de9580ebd60b9f072627de8f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a> (volatile <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *<a class="el" href="fat32_8h.html#a40767ad71451f60885c01f28dd2a4b47">data</a>)</td></tr>
<tr class="separator:a2dc30f6de9580ebd60b9f072627de8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88092c3fcb2539f67d3a376da0f6008a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a88092c3fcb2539f67d3a376da0f6008a">sw_trylock_s</a> (void *<a class="el" href="fat32_8h.html#a40767ad71451f60885c01f28dd2a4b47">data</a>)</td></tr>
<tr class="separator:a88092c3fcb2539f67d3a376da0f6008a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04367a7c0265aaf39c91f5490d227118"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a04367a7c0265aaf39c91f5490d227118">sw_mutex_init</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex, const <a class="el" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a> *attribute)</td></tr>
<tr class="memdesc:a04367a7c0265aaf39c91f5490d227118"><td class="mdescLeft">&#160;</td><td class="mdescRight">dymanic initialization of the mutex. The attribute parameter is kept for consistency and is not used. Attempting to re-initialize a mutex will reset it.  <a href="#a04367a7c0265aaf39c91f5490d227118"></a><br/></td></tr>
<tr class="separator:a04367a7c0265aaf39c91f5490d227118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479d153ccca1ece612debff0558eba9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a479d153ccca1ece612debff0558eba9e">sw_mutex_destroy</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:a479d153ccca1ece612debff0558eba9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function destroys the mutex object. Attempting to destroy a mutex that has already been destroyed has no effect. Attempting to destroy a locked mutex fails.  <a href="#a479d153ccca1ece612debff0558eba9e"></a><br/></td></tr>
<tr class="separator:a479d153ccca1ece612debff0558eba9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c805367bdb75f13ac44f080f72e66e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:ac3c805367bdb75f13ac44f080f72e66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function locks the mutex object referenced. If the mutex is already locked, it blocks till it becomes available. Once it is available, it is locked. No deadlock detection is provided.  <a href="#ac3c805367bdb75f13ac44f080f72e66e"></a><br/></td></tr>
<tr class="separator:ac3c805367bdb75f13ac44f080f72e66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function unlocks the mutex object referenced. Attempts to unlock a mutex that is already locked has no effect.  <a href="#af4b5c19a5ccbbdbe4eed5e7520c5cb84"></a><br/></td></tr>
<tr class="separator:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the mutex. This function is same as the lock function, except that it returns if the mutex cannot be locked.  <a href="#af9f84b60f4d379ab88cc1091a63cf2ae"></a><br/></td></tr>
<tr class="separator:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39487bfce93fff0c3557bb104ef9f7ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a39487bfce93fff0c3557bb104ef9f7ef">sw_sem_init</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> shared, <a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> value)</td></tr>
<tr class="memdesc:a39487bfce93fff0c3557bb104ef9f7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the semaphore, and sets is counters to the value passed to it.  <a href="#a39487bfce93fff0c3557bb104ef9f7ef"></a><br/></td></tr>
<tr class="separator:a39487bfce93fff0c3557bb104ef9f7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc191367c06f2cff2957f3a69102514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a8dc191367c06f2cff2957f3a69102514">sw_sem_wait</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:a8dc191367c06f2cff2957f3a69102514"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function locks the semaphore referenced by the sem value. An atomic decrement is performed. If the counters become negative, sem_init is blocked, till another thread invokes sw_sem_post.  <a href="#a8dc191367c06f2cff2957f3a69102514"></a><br/></td></tr>
<tr class="separator:a8dc191367c06f2cff2957f3a69102514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa074bb6e5b06c3ff897483709ec2b787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#aa074bb6e5b06c3ff897483709ec2b787">sw_sem_post</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:aa074bb6e5b06c3ff897483709ec2b787"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function unlocks the semaphore referenced by sem. The value is incremented atomically. If there are any threads waiting on this semaphore, only one of them would be released from sem_wait.  <a href="#aa074bb6e5b06c3ff897483709ec2b787"></a><br/></td></tr>
<tr class="separator:aa074bb6e5b06c3ff897483709ec2b787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667bf1dc62225b5affc82815da70adc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a667bf1dc62225b5affc82815da70adc6">sw_sem_destroy</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:a667bf1dc62225b5affc82815da70adc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the semaphore pointed to by sem variable The semaphore cannot be used after deletion.  <a href="#a667bf1dc62225b5affc82815da70adc6"></a><br/></td></tr>
<tr class="separator:a667bf1dc62225b5affc82815da70adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c76bedb76df6742a511442f9da97f30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8h.html#a1c76bedb76df6742a511442f9da97f30">sw_sem_getvalue</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *value)</td></tr>
<tr class="memdesc:a1c76bedb76df6742a511442f9da97f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current value of the semaphore. It is copied into the argument supplied by the caller.  <a href="#a1c76bedb76df6742a511442f9da97f30"></a><br/></td></tr>
<tr class="separator:a1c76bedb76df6742a511442f9da97f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa93f0eb578d23995850d61f7d61c55c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FALSE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00036">36</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3e2192a82f8890c9fc1c37866a6973bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_SPIN_LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td>&#160;&#160;&#160;((s)-&gt;lock = 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00043">43</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="af03c34c007b8ddc089778f767c76b4c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_AGAIN&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00041">41</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3fd16a0b061bbb0bcbf50ad714050142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_BUSY&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00040">40</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="abf435ec0b9f3b6e7ae76d9079bfe6084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_FREE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00033">33</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad644b8be68ed8327689bae20c2142c80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_INVALID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00039">39</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="a49b7b563fc38af00656e0f2f89d2ce56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_LOCKED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00032">32</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8a35199e078df55bf4b3d055d6814139"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_MUTEX_INIT&#160;&#160;&#160;{<a class="el" href="sw__types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="el" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00090">90</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="aad472a601abac5aab18d6afddeab7de5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTZ_OK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00038">38</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2244ed712da6ca027f76cb840045e5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sw_mutexattr_t&#160;&#160;&#160;void</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00112">112</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRUE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__semaphores_8h_source.html#l00035">35</a> of file <a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a479d153ccca1ece612debff0558eba9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function destroys the mutex object. Attempting to destroy a mutex that has already been destroyed has no effect. Attempting to destroy a locked mutex fails. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>- A pointer to the mutex that needs to be destroyed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK if the deletion was successful. </dd>
<dd>
OTZ_INVALID if the value specified by the mutex was invalid. </dd>
<dd>
OTZ_BUSY if the mutex is locked and cannot be destroyed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00104">104</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a> != <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line">    }</div>
<div class="line">    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04367a7c0265aaf39c91f5490d227118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a> *&#160;</td>
          <td class="paramname"><em>attribute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dymanic initialization of the mutex. The attribute parameter is kept for consistency and is not used. Attempting to re-initialize a mutex will reset it. </p>
<p>This function must be invoked before a mutex can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>- A pointer to the mutex that needs to be initialized </td></tr>
    <tr><td class="paramname">attribute</td><td>- A pointer to the attributes of the mutex</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK if the initialization was successful </dd>
<dd>
OTZ_INVALID if the value specified by mutex was invalid</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
    <tr><td class="paramname">attribute</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00087">87</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a> = <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>;</div>
<div class="line">    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3c805367bdb75f13ac44f080f72e66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function locks the mutex object referenced. If the mutex is already locked, it blocks till it becomes available. Once it is available, it is locked. No deadlock detection is provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>- A pointer to the mutex that has to be locked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the attempt to lock was successful. </dd>
<dd>
OTZ_INVALID If the mutex was un-initialized, of the value is invalid.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00123">123</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    sw_get_spinlock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>));</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9f84b60f4d379ab88cc1091a63cf2ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_trylock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to lock the mutex. This function is same as the lock function, except that it returns if the mutex cannot be locked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>- A pointer to the mutex that needs to be locked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the lock was successful. </dd>
<dd>
OTZ_INVALID If the value specified by mutex is invalid or mutex was not initalized. </dd>
<dd>
OTZ_BUSY If the mutex is already locked.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00156">156</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(sw_get_trylock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>)) != <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4b5c19a5ccbbdbe4eed5e7520c5cb84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function unlocks the mutex object referenced. Attempts to unlock a mutex that is already locked has no effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>- A pointer to the mutex that has to be unlocked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the attempt to unlock was successful. </dd>
<dd>
OTZ_EINVAL If the value specified in the mutex is invalid or un-initialized.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00140">140</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    sw_release_spinlock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>));</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a667bf1dc62225b5affc82815da70adc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the semaphore pointed to by sem variable The semaphore cannot be used after deletion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>- The semaphore to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OTZ_OK</td><td>If the semaphore has been deleted successfully. </td></tr>
    <tr><td class="paramname">OTZ_INVALID</td><td>If the semaphore parameter is invalid. </td></tr>
    <tr><td class="paramname">OTZ_BUSY</td><td>If the semaphore is currently busy and hence cannot be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00231">231</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> &lt; 0) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line">    }</div>
<div class="line">    sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> = 0;</div>
<div class="line">    sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c76bedb76df6742a511442f9da97f30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_getvalue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current value of the semaphore. It is copied into the argument supplied by the caller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>- The semaphore whose value has to be obtained. </td></tr>
    <tr><td class="paramname">value</td><td>- The location where the value of the semaphore needs to be copied.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK The value has been succesfully copied. </dd>
<dd>
OTZ_INVALID Invalid value for semaphore or the location where the value needs to be copied into.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00252">252</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (value == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    *value = sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>;</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39487bfce93fff0c3557bb104ef9f7ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the semaphore, and sets is counters to the value passed to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>- A pointer to the semaphore that needs to be initialized </td></tr>
    <tr><td class="paramname">shared</td><td>- Not supported and any value that is passed is ignored. </td></tr>
    <tr><td class="paramname">value</td><td>- The value that needs to be assigned to the semaphore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the initialization suceeded. </dd>
<dd>
OTZ_INVALID If the semaphore that was passed is invalid.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
    <tr><td class="paramname">shared</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00176">176</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">    sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> = value;</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa074bb6e5b06c3ff897483709ec2b787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function unlocks the semaphore referenced by sem. The value is incremented atomically. If there are any threads waiting on this semaphore, only one of them would be released from sem_wait. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>- A pointer to the semaphore that needs to be incremented.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the operation is successful. </dd>
<dd>
OTZ_INVALID If the semaphore is invalid.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00212">212</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/*__memory_changed();</span></div>
<div class="line"><span class="comment">    OTZ_WRITE_MEMORY_BARRIER */</span></div>
<div class="line">    <a class="code" href="cpu_8c.html#aed669a97cf4695bb71f9d24330065976">data_sync_barrier</a>();</div>
<div class="line">    <a class="code" href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a>((<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>*)&amp;(sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>));</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc6f251f28afebcb1f64419df7c92d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sw_sem_post_s </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8dc191367c06f2cff2957f3a69102514"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function locks the semaphore referenced by the sem value. An atomic decrement is performed. If the counters become negative, sem_init is blocked, till another thread invokes sw_sem_post. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>- A pointer to the semaphore to be waited upon on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTZ_OK If the operation was successful. </dd>
<dd>
OTZ_INVALID If the semaphore that was passed to it is invalid.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00193">193</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line">        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a>((<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>*)&amp;(sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>));</div>
<div class="line">    <span class="comment">/*OTZ_READ_MEMORY_BARRIER</span></div>
<div class="line"><span class="comment">    __memory_changed();*/</span></div>
<div class="line">    <a class="code" href="cpu_8c.html#a485c01a85ecf4219772d9df0db2c86a9">data_memory_barrier</a>();</div>
<div class="line">    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2dc30f6de9580ebd60b9f072627de8f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sw_sem_wait_s </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab5028dc54dc18cb7c6e5ac85a5542403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sw_spinlock_s </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6aac81e6777501983ca3af1d7230db1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sw_spinunlock_s </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a88092c3fcb2539f67d3a376da0f6008a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> sw_trylock_s </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 3 2013 00:33:53 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
